(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),o=n(15),r=n.n(o),a=(n(21),n(6)),i=(n(22),n(10)),d=n(2),l=(n(23),n(0)),j=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("p",{children:"\u24d2 2021 Kevin.P, All rights reserved."})})},h=(n(25),"http://tasko.today"),u="http://ec2-3-36-251-188.ap-northeast-2.compute.amazonaws.com";var b=function(e){var t=e.passUserInfo,n=Object(c.useState)([]),s=Object(a.a)(n,2),o=s[0],r=s[1],i=Object(c.useState)([]),d=Object(a.a)(i,2),j=d[0],b=d[1],O=Object(c.useState)(!1),p=Object(a.a)(O,2),f=p[0],m=p[1],x=Object(c.useState)(""),g=Object(a.a)(x,2),v=g[0],N=g[1],k=Object(c.useState)(0),S=Object(a.a)(k,2),y=S[0],T=S[1],w=Object(c.useState)(0),I=Object(a.a)(w,2),_=I[0],L=I[1],P=Object(c.useState)(0),E=Object(a.a)(P,2),J=E[0],C=E[1],B=Object(c.useState)(0),U=Object(a.a)(B,2),q=U[0],D=U[1],F=Object(c.useState)({}),K=Object(a.a)(F,2),M=K[0],A=K[1],G=document.cookie.split("; ").find((function(e){return e.startsWith("userId")})),z=void 0===G?window.location.replace(h):G.split("=")[1];function R(){fetch("".concat(u,"/api/todos"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(z)}).then((function(e){return e.json()})).then((function(e){console.log("Todo Items: ",e),r(e)})),fetch("".concat(u,"/api/pomodoro"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(z)}).then((function(e){return e.json()})).then((function(e){console.log("\uc11c\ubc84\ub85c\ubd80\ud130 Pomodoro \uc815\ubcf4 \uac00\uc838\uc634: ",e.timerSet,e.pomo,e.maxPomo,e.totalPomo),b(e)}))}return Object(c.useEffect)((function(){f||(fetch("".concat(u,"/api/user"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(z)}).then((function(e){return e.json()})).then((function(e){console.log("\uc720\uc800 \uc815\ubcf4 \uac00\uc838\uc634: ",{newUserInfo:e}),N(e),t(e),R()})),m(!0))}),[f]),Object(c.useEffect)((function(){T(o.length),L(o.filter((function(e){return e.isDone})).length),function(){var e=j.timerSet;C(j.pomo),D(j.totalPomo),A({minutes:Math.floor(e/60),seconds:e%60})}()}),[o,j]),Object(l.jsxs)("div",{className:"dashboard",children:[Object(l.jsxs)("div",{className:"dashboard_user_info component",children:[Object(l.jsx)("img",{className:"user_picture",src:v.pictureUrl,alt:v.name}),Object(l.jsx)("br",{}),Object(l.jsx)("h2",{style:{display:"inline-block",marginBottom:"5%"},children:v.name}),Object(l.jsx)("span",{children:"\ub2d8\uc758 \ub300\uc2dc\ubcf4\ub4dc"}),Object(l.jsx)("span",{className:"dashboard_refresh",onClick:R,children:" \u21bb"}),Object(l.jsx)("hr",{})]}),Object(l.jsxs)("div",{className:"dashboard_content component",children:[Object(l.jsxs)("div",{className:"dashboard_daily_do",children:[Object(l.jsx)("a",{href:"./dailydo",target:"_blank",rel:"noreferrer",children:Object(l.jsx)("div",{className:"daily_do_app_picture"})}),Object(l.jsx)("h2",{children:"\uc624\ub298 \ud560 \uc77c"}),Object(l.jsx)("ul",{children:Object(l.jsxs)("li",{children:[Object(l.jsx)("p",{children:"\uc624\ub298 \ud560 \uc77c \ub2ec\uc131\ub960"}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h1",{children:[0!==y?Math.round(_/y*100):"0","%"]})]})})]}),Object(l.jsxs)("div",{className:"dashboard_pomodoro",children:[Object(l.jsx)("a",{href:"./pomodoro",target:"_blank",rel:"noreferrer",children:Object(l.jsx)("div",{className:"pomodoro_app_picture"})}),Object(l.jsx)("h2",{children:"\ubf40\ubaa8\ub3c4\ub85c"}),Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{children:[Object(l.jsx)("p",{children:"\ub098\uc758 \uc9d1\uc911\ub825"}),Object(l.jsx)("hr",{}),Object(l.jsx)("h1",{children:isNaN(M.seconds)?"0\ubd840\ucd08":M.minutes+"\ubd84"+M.seconds+"\ucd08"})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("p",{children:"\uc624\ub298 \ud55c \ubf40\ubaa8"}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h1",{children:[J," \ubf40\ubaa8"]})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("p",{children:"\uc9c0\uae08\uae4c\uc9c0 \ud55c \ucd1d \ubf40\ubaa8"}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h1",{children:[q," \ubf40\ubaa8"]})]})]})]})]})]})},O=(n(26),function(e){var t=e.userInfo;return Object(l.jsx)("nav",{className:"navigation",children:Object(l.jsxs)("ul",{className:"navigation-list",children:[Object(l.jsx)("li",{id:"logo",children:Object(l.jsx)("a",{href:"https://komputer-p.github.io/Portfolio/",target:"_blank",rel:"noreferrer",children:"\u03c0"})}),Object(l.jsx)("li",{children:Object(l.jsx)(i.b,{to:"/dashboard",children:"\ub300\uc2dc\ubcf4\ub4dc"})}),Object(l.jsx)("li",{children:Object(l.jsx)(i.b,{to:"/preference",children:"\uc124\uc815"})}),Object(l.jsx)("li",{children:Object(l.jsxs)("div",{className:"dropdown",children:[Object(l.jsxs)("div",{className:"navigation-user-info",onClick:function(){document.querySelector(".user-info-dropdown").classList.toggle("show")},children:[Object(l.jsx)("img",{className:"navigation-user_picture",src:t.pictureUrl,alt:t.name}),Object(l.jsx)("span",{className:"navigation-user-name",children:t.name})]}),Object(l.jsx)("div",{className:"user-info-dropdown",children:Object(l.jsx)("p",{className:"logout",onClick:function(){document.cookie="userId= ; expires=Thu, 01 Jan 1999 00:00:10 GMT;",window.location.replace(h)},children:"\ub85c\uadf8\uc544\uc6c3"})})]})})]})})});var p=function(e){var t=e.darkTheme,n=e.userInfo,s=e.passUserInfo;return Object(c.useEffect)((function(){var e=document.querySelector(".navigation");t?e.classList.add("dark"):e.classList.remove("dark")}),[t]),Object(l.jsxs)("div",{className:"navigation-dashboard_wrapper wrapper",children:[Object(l.jsx)(O,{userInfo:n}),Object(l.jsx)(b,{passUserInfo:s})]})},f=(n(35),function(e){var t=e.darkTheme,n=e.onToggle;return Object(l.jsxs)("div",{className:"preference component",children:[Object(l.jsxs)("div",{className:"title",children:[Object(l.jsx)("h3",{children:"\uae30\ubcf8 \uc124\uc815"}),Object(l.jsx)("p",{})]}),Object(l.jsx)("div",{className:"content",children:Object(l.jsx)("ul",{className:"general",children:Object(l.jsxs)("li",{className:"theme",children:[Object(l.jsx)("span",{className:"text",children:"\ub2e4\ud06c \ubaa8\ub4dc"}),Object(l.jsxs)("label",{className:"switch",children:[Object(l.jsx)("input",{type:"checkbox",checked:t,name:"theme",onChange:n}),Object(l.jsx)("span",{className:"slider round"})]}),Object(l.jsx)("p",{style:{color:"gray"},children:"\ubc24\uc5d0\ub294 \ub2e4\ud06c \ubaa8\ub4dc\ub97c \ucf1c\ub294 \uac83\uc744 \ucd94\ucc9c\ub4dc\ub824\uc694."})]})})})]})});var m=function(e){var t=e.darkTheme,n=e.userInfo,s=e.handleThemeToggle;return Object(c.useEffect)((function(){var e=document.querySelector(".navigation");t?e.classList.add("dark"):e.classList.remove("dark")}),[t]),Object(l.jsxs)("div",{className:"navigation-preference-wrapper wrapper",children:[Object(l.jsx)(O,{userInfo:n}),Object(l.jsx)("h1",{style:{fontSize:"3rem",marginBottom:"5%"},children:"\uc124\uc815"}),Object(l.jsx)("div",{className:"preferences",children:Object(l.jsx)(f,{darkTheme:t,onToggle:s})})]})};n(36);var x=function(e){var t=e.history,n=Object(c.useRef)(null);return Object(c.useEffect)((function(){!function(e,t,n){var c,s=e.getElementsByTagName(t)[0];e.getElementById(n)||((c=e.createElement(t)).id=n,c.src="https://apis.google.com/js/platform.js?onload=googleSDKLoaded",s.parentNode.insertBefore(c,s))}(document,"script","google-jssdk"),window.googleSDKLoaded=function(){window.gapi.load("auth2",(function(){window.gapi.auth2.init({client_id:"855394650411-buaopph1kokclaq6l9i8tirma6u2svf0.apps.googleusercontent.com"}).attachClickHandler(n.current,{},(function(e){!function(e){var n=e.getAuthResponse().id_token,c=2592e6,s=new Date;s.setTime(s.getTime()+c),fetch("".concat(u,"/api/google/tokensignin"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){console.log("Login userId: "+e.userId),document.cookie="userId=".concat(e.userId,"; expires=").concat(s.toUTCString()," path=/")})).then((function(){t.push("/dashboard")}))}(e)}),(function(e){!function(e){alert(JSON.stringify(e,void 0,2))}(e)}))}))}}),[]),Object(l.jsxs)("div",{className:"login-wrapper component",children:[Object(l.jsxs)("div",{className:"information",children:[Object(l.jsx)("h1",{id:"logo",children:"TASK"}),Object(l.jsx)("p",{children:"\uc77c\uc815/\uc2dc\uac04 \uad00\ub9ac \uc11c\ube44\uc2a4"})]}),Object(l.jsxs)("div",{ref:n,id:"customBtn",className:"customGPlusSignIn",children:[Object(l.jsx)("span",{className:"icon"}),Object(l.jsx)("span",{className:"buttonText",children:"\uad6c\uae00 \ub85c\uadf8\uc778"})]})]})};n(37);var g=function(e){var t=e.history;return Object(c.useEffect)((function(){var e=document.cookie.split("; ").find((function(e){return e.startsWith("userId")}));void 0!==e?function(e){var n=e.split("=")[1];fetch("".concat(u,"/api/user"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.ok?t.push("/dashboard"):(document.cookie="userId= ; expires=Thu, 01 Jan 1999 00:00:10 GMT;",console.log("Failed to login"),t.push("/login"))}))}(e):t.push("/login")}),[]),Object(l.jsx)("div",{className:"loading-wrapper component",children:Object(l.jsx)("h1",{id:"loading_text",children:"TASK loading..."})})};var v=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],s=t[1];function o(){s(!n)}Object(c.useEffect)((function(){var e=document.querySelector("body"),t=document.querySelector(".footer");n?(e.classList.add("dark"),t.classList.add("dark")):(e.classList.remove("dark"),t.classList.remove("dark"))}),[n]);var r=Object(c.useState)(""),h=Object(a.a)(r,2),u=h[0],b=h[1];function O(e){b(e)}return Object(l.jsx)(i.a,{children:Object(l.jsxs)("div",{className:"main",children:[Object(l.jsxs)(d.c,{children:[Object(l.jsx)(d.a,{path:"/",exact:!0,component:g}),Object(l.jsx)(d.a,{path:"/login",exact:!0,component:x}),Object(l.jsx)(d.a,{path:"/dashboard",render:function(){return Object(l.jsx)(p,{darkTheme:n,userInfo:u,passUserInfo:O})}}),Object(l.jsx)(d.a,{path:"/preference",render:function(){return Object(l.jsx)(m,{darkTheme:n,userInfo:u,handleThemeToggle:o})}})]}),Object(l.jsx)(j,{})]})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),o(e),r(e)}))};r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root")),N()}},[[38,1,2]]]);
//# sourceMappingURL=main.d267cb4b.chunk.js.map