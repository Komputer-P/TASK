{"version":3,"sources":["components/fixed/Footer.js","config.js","components/dashboard/Dashboard.js","components/fixed/Navigation.js","components/dashboard/DashboardTemplateWrapper.js","components/preference/Preference.js","components/preference/PreferenceTemplateWrapper.js","components/login/Login.js","Loading.js","App.js","reportWebVitals.js","index.js"],"names":["Footer","className","homepageURL","serverURL","Dashboard","passUserInfo","useState","todoItems","setTodoItems","pomodoroItem","setPomodoroItem","isPatched","setIsPatched","userInfo","setUserInfo","todoItemsCount","setTodoItemsCount","todoItemsDoneCount","setTodoItemsDoneCount","pomoCount","setPomoCount","pomoTotalCount","setPomoTotalCount","pomoTimer","setPomoTimer","userIdLocation","document","cookie","split","find","row","startsWith","userId","undefined","window","location","replace","refreshDashboardItems","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","info","timerSet","pomo","maxPomo","totalPomo","useEffect","newUserInfo","length","filter","todoItem","isDone","minutes","Math","floor","seconds","calPomdoroCount","src","pictureUrl","alt","name","style","display","marginBottom","onClick","href","target","rel","round","isNaN","Navigation","id","to","querySelector","classList","toggle","DashboardTemplateWrapper","darkTheme","navigation","add","remove","Preference","onToggle","type","checked","onChange","color","PreferenceTemplateWrapper","handleThemeToggle","fontSize","Login","history","googleLoginBtn","useRef","d","s","js","fjs","getElementsByTagName","getElementById","createElement","parentNode","insertBefore","googleSDKLoaded","gapi","load","auth2","init","client_id","attachClickHandler","current","googleUser","id_token","getAuthResponse","tokenExpireTime","date","Date","setTime","getTime","userData","toUTCString","push","onSuccess","error","alert","onFailure","ref","Loading","ok","userIdAutoLogin","App","setDarkTheme","footer","handleUserInfo","path","exact","component","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.24676231.chunk.js","sourcesContent":["import './Footer.css';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p>ⓒ 2021 Kevin.P, All rights reserved.</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","export const homepageURL = \"http://tasko.today\";\r\nexport const serverURL = \"http://ec2-3-36-251-188.ap-northeast-2.compute.amazonaws.com\";\r\n","import './Dashboard.css';\r\nimport { useEffect, useState } from \"react\";\r\nimport { homepageURL, serverURL } from '../../config'\r\n\r\nfunction Dashboard({ passUserInfo }) {\r\n    const [todoItems, setTodoItems] = useState([]);\r\n    const [pomodoroItem, setPomodoroItem] = useState([]);\r\n    const [isPatched, setIsPatched] = useState(false);\r\n\r\n    const [userInfo, setUserInfo] = useState(\"\");\r\n\r\n    const [todoItemsCount, setTodoItemsCount] = useState(0);\r\n    const [todoItemsDoneCount, setTodoItemsDoneCount] = useState(0);\r\n\r\n    const [pomoCount, setPomoCount] = useState(0);\r\n    const [pomoTotalCount, setPomoTotalCount] = useState(0);\r\n    const [pomoTimer, setPomoTimer] = useState({});\r\n\r\n    const userIdLocation = document.cookie.split('; ').find(row => row.startsWith('userId'));\r\n    const userId = userIdLocation === undefined ? window.location.replace(homepageURL) : userIdLocation.split('=')[1];\r\n\r\n    // Read\r\n    useEffect(() => {\r\n        if (!isPatched) {\r\n            // GET 방식으로 서버 전송\r\n            fetch(`${serverURL}/api/user`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'content-type': 'application/json'\r\n                },\r\n                body: JSON.stringify(userId)\r\n            })\r\n                .then((response) => response.json())\r\n                .then((newUserInfo) => {\r\n                    console.log(\"유저 정보 가져옴: \", { newUserInfo });\r\n                    setUserInfo(newUserInfo);\r\n                    passUserInfo(newUserInfo);\r\n\r\n                    // User가 Fetch되면 todo, pomodoro Item Fetch하기\r\n                    refreshDashboardItems();    \r\n                });\r\n\r\n            setIsPatched(true);\r\n        }\r\n    }, [isPatched]);\r\n\r\n    useEffect(() => { // 임시\r\n        calTodoItemsCount();\r\n        calTodoItemsDoneCount();\r\n        calPomdoroCount();\r\n    }, [todoItems, pomodoroItem]);\r\n\r\n    function refreshDashboardItems() {\r\n        // Todo\r\n        fetch(`${serverURL}/api/todos`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(userId)\r\n        })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                console.log(\"Todo Items: \", data);\r\n                setTodoItems(data);\r\n            });\r\n        // Pomodoro\r\n        fetch(`${serverURL}/api/pomodoro`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(userId)\r\n        })\r\n            .then((response) => response.json())\r\n            .then((info) => {\r\n                console.log(\"서버로부터 Pomodoro 정보 가져옴: \", info.timerSet, info.pomo, info.maxPomo, info.totalPomo);\r\n                setPomodoroItem(info);\r\n            });\r\n    }\r\n\r\n    function calTodoItemsCount() {\r\n        setTodoItemsCount(todoItems.length);\r\n    }\r\n\r\n    function calTodoItemsDoneCount() {\r\n        setTodoItemsDoneCount(todoItems.filter(todoItem => todoItem.isDone).length);\r\n    }\r\n\r\n    function calPomdoroCount() {\r\n        const timerSet = pomodoroItem.timerSet;\r\n\r\n        setPomoCount(pomodoroItem.pomo);\r\n        setPomoTotalCount(pomodoroItem.totalPomo);\r\n        setPomoTimer({\r\n            minutes: Math.floor(timerSet / 60),\r\n            seconds: timerSet % 60\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"dashboard\">\r\n            <div className=\"dashboard_user_info component\">\r\n                <img className=\"user_picture\" src={userInfo.pictureUrl} alt={userInfo.name}></img><br></br>\r\n                <h2 style={{ display: 'inline-block', marginBottom: '5%' }}>{userInfo.name}</h2><span>님의 대시보드</span>\r\n                <span className=\"dashboard_refresh\" onClick={refreshDashboardItems}> ↻</span>\r\n                <hr></hr>\r\n            </div>\r\n            <div className=\"dashboard_content component\">\r\n                <div className=\"dashboard_daily_do\">\r\n                    <a href=\"./dailydo\" target=\"_blank\" rel=\"noreferrer\"><div className=\"daily_do_app_picture\"></div></a>\r\n                    <h2>오늘 할 일</h2>\r\n                    <ul>\r\n                        <li><p>오늘 할 일 달성률</p><hr></hr><h1>{todoItemsCount !== 0 ? Math.round((todoItemsDoneCount / todoItemsCount) * 100) : '0'}%</h1></li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"dashboard_pomodoro\">\r\n                    <a href=\"./pomodoro\" target=\"_blank\" rel=\"noreferrer\"><div className=\"pomodoro_app_picture\"></div></a>\r\n                    <h2>뽀모도로</h2>\r\n                    <ul>\r\n                        <li><p>나의 집중력</p><hr></hr><h1>{isNaN(pomoTimer.seconds) ? '0분0초' : pomoTimer.minutes + '분' + pomoTimer.seconds + '초'}</h1></li>\r\n                        <li><p>오늘 한 뽀모</p><hr></hr><h1>{pomoCount} 뽀모</h1></li>\r\n                        <li><p>지금까지 한 총 뽀모</p><hr></hr><h1>{pomoTotalCount} 뽀모</h1></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dashboard;","import { Link } from 'react-router-dom';\r\nimport './Navigation.css';\r\nimport { homepageURL } from '../../config'\r\n\r\nconst Navigation = ({ userInfo }) => {\r\n    function logout() {\r\n        document.cookie = `userId= ; expires=Thu, 01 Jan 1999 00:00:10 GMT;`;\r\n        window.location.replace(homepageURL);\r\n    }\r\n\r\n    function handleToggle() {\r\n        let dropdown = document.querySelector('.user-info-dropdown');\r\n        dropdown.classList.toggle('show');\r\n    }\r\n\r\n    return (\r\n        <nav className=\"navigation\">\r\n            <ul className=\"navigation-list\">\r\n                <li id=\"logo\"><a href=\"https://komputer-p.github.io/Portfolio/\" target=\"_blank\" rel=\"noreferrer\">&pi;</a></li>\r\n                <li><Link to=\"/dashboard\">대시보드</Link></li>\r\n                <li><Link to=\"/preference\">설정</Link></li>\r\n                <li>\r\n                    <div className=\"dropdown\">\r\n                        <div className=\"navigation-user-info\" onClick={handleToggle}>\r\n                            <img className=\"navigation-user_picture\" src={userInfo.pictureUrl} alt={userInfo.name}></img>\r\n                            <span className=\"navigation-user-name\">{userInfo.name}</span>\r\n                        </div>\r\n                        <div className=\"user-info-dropdown\">\r\n                            <p className=\"logout\" onClick={logout}>로그아웃</p>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navigation;","import { useEffect } from 'react';\r\nimport Dashboard from './Dashboard';\r\nimport Navigation from '../fixed/Navigation';\r\n\r\nfunction DashboardTemplateWrapper({ darkTheme, userInfo, passUserInfo }) {\r\n\r\n    useEffect(() => { // 랜더링 이후 다크 모드 설정 (추후 리팩토링)\r\n        const navigation = document.querySelector('.navigation');\r\n    \r\n        if(darkTheme) {  \r\n          navigation.classList.add('dark');\r\n        }\r\n        else {\r\n          navigation.classList.remove('dark');\r\n        }\r\n      }, [ darkTheme ]);\r\n\r\n    return (\r\n    <div className=\"navigation-dashboard_wrapper wrapper\">\r\n        <Navigation userInfo={userInfo}></Navigation>\r\n        <Dashboard passUserInfo={passUserInfo}></Dashboard>\r\n    </div>\r\n    );\r\n  }\r\n  \r\n  export default DashboardTemplateWrapper;","import './Preference.css';\r\n\r\nconst Preference = ({ darkTheme, onToggle }) => {    \r\n    return (\r\n        <div className=\"preference component\">\r\n            <div className=\"title\">\r\n                <h3>기본 설정</h3>\r\n                <p></p>\r\n            </div>\r\n            <div className=\"content\">\r\n                <ul className=\"general\">\r\n                    <li className=\"theme\">\r\n                        <span className=\"text\">다크 모드</span>\r\n                        <label className=\"switch\">\r\n                            <input type=\"checkbox\" checked={darkTheme} name=\"theme\" onChange={onToggle}></input>\r\n                            <span className=\"slider round\"></span>\r\n                        </label>\r\n                        <p style={{ color : 'gray'}}>밤에는 다크 모드를 켜는 것을 추천드려요.</p>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Preference;","import { useEffect } from 'react';\r\nimport Preference from './Preference';\r\nimport Navigation from '../fixed/Navigation';\r\n\r\nfunction PreferenceTemplateWrapper({ darkTheme, userInfo, handleThemeToggle }) {\r\n    \r\n    useEffect(() => { // 랜더링 이후 다크 모드 설정 (추후 리팩토링)\r\n        const navigation = document.querySelector('.navigation');\r\n    \r\n        if(darkTheme) {  \r\n          navigation.classList.add('dark');\r\n        }\r\n        else {\r\n          navigation.classList.remove('dark');\r\n        }\r\n      }, [ darkTheme ]);\r\n\r\n    return (\r\n        <div className=\"navigation-preference-wrapper wrapper\">\r\n            <Navigation userInfo={userInfo}></Navigation>\r\n            <h1 style={{ fontSize : '3rem', marginBottom : '5%'}}>설정</h1>\r\n            <div className=\"preferences\">\r\n                <Preference darkTheme={darkTheme} onToggle={handleThemeToggle}></Preference>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PreferenceTemplateWrapper;","import { useEffect, useRef } from 'react';\r\nimport './Login.css';\r\nimport { serverURL } from '../../config'\r\n\r\nfunction Login({ history }) {\r\n    const googleLoginBtn = useRef(null);\r\n  \r\n    //SDK 초기 설정 및 내 API초기화\r\n    useEffect(() => {\r\n        //구글 SDK 불러오기\r\n        (function (d, s, id) {\r\n            let js;\r\n            const fjs = d.getElementsByTagName(s)[0];\r\n            if (d.getElementById(id)) {\r\n                return;\r\n            }\r\n            js = d.createElement(s);\r\n            js.id = id;\r\n            js.src = \"https://apis.google.com/js/platform.js?onload=googleSDKLoaded\";\r\n            fjs.parentNode.insertBefore(js, fjs);\r\n        })(document, \"script\", \"google-jssdk\");\r\n\r\n        // SDK 로드 되면, 초기설정 시작\r\n        window.googleSDKLoaded = () => {\r\n            window.gapi.load(\"auth2\", () => {\r\n                const auth2 = window.gapi.auth2.init({\r\n                    client_id:\r\n                        \"855394650411-buaopph1kokclaq6l9i8tirma6u2svf0.apps.googleusercontent.com\"\r\n                });\r\n                //버튼 클릭시 사용자 정보 불러오기\r\n                auth2.attachClickHandler(\r\n                    googleLoginBtn.current,\r\n                    {},\r\n                    (googleUser) => {\r\n                        onSuccess(googleUser);\r\n                    },\r\n                    (error) => {\r\n                        onFailure(error);\r\n                    }\r\n                );\r\n            });\r\n        };\r\n    }, []);\r\n\r\n    function onSuccess(googleUser) {\r\n        const id_token = googleUser.getAuthResponse().id_token;\r\n        const tokenExpireTime = 30*24*60*60*1000; //한 달\r\n\r\n        let date = new Date();\r\n        date.setTime(date.getTime() + tokenExpireTime);\r\n\r\n        // 서버로 토큰 전송\r\n        // 전송 완료 후 받은 userId 쿠기에 저장\r\n        // 이후 대시보드로 Re-route\r\n        fetch(`${serverURL}/api/google/tokensignin`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(id_token)\r\n        })\r\n        .then((response) => response.json())\r\n        .then((userData) => {\r\n            console.log('Login userId: ' + userData.userId);\r\n\r\n            document.cookie = `userId=${userData.userId}; expires=${date.toUTCString()} path=/`;\r\n        })\r\n        .then(() => {\r\n            history.push(\"/dashboard\");\r\n        })\r\n    }\r\n\r\n    function onFailure(error) {\r\n        alert(JSON.stringify(error, undefined, 2));\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"login-wrapper component\">\r\n            <div className=\"information\">\r\n                <h1 id=\"logo\">TASK</h1>\r\n                <p>일정/시간 관리 서비스</p>\r\n            </div>\r\n            <div ref={googleLoginBtn} id=\"customBtn\" className=\"customGPlusSignIn\">\r\n                <span className=\"icon\"></span>\r\n                <span className=\"buttonText\">구글 로그인</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login","import { useEffect } from 'react';\r\nimport './Loading.css';\r\nimport { serverURL } from './config'\r\n\r\nfunction Loading({ history }) {\r\n\r\n    useEffect(() => {\r\n        // userId 토큰이 존재한다면 자동 로그인\r\n        const userIdLocation = document.cookie.split('; ').find(row => row.startsWith('userId'));\r\n\r\n        if (userIdLocation !== undefined) {\r\n            userIdAutoLogin(userIdLocation);\r\n        }\r\n        // 토큰이 존재하지 않는다면 로그인 화면으로 Re-route\r\n        else {\r\n            history.push(\"/login\");\r\n        }\r\n\r\n    }, []);\r\n\r\n    function userIdAutoLogin(userIdLocation) {\r\n        const userId = userIdLocation.split('=')[1];\r\n        \r\n        // POST 방식으로 서버 전송\r\n        fetch(`${serverURL}/api/user`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(userId)\r\n        })\r\n            .then((response) => {\r\n                // 사용자 정보를 정상적으로 가져오면 (status: 200, ok)\r\n                // 대시보드로 Re-route\r\n                if (response.ok) {\r\n                    history.push(\"/dashboard\");\r\n                }\r\n                // 사용자 정보를 정상적으로 가져오지 못했으면 (status: 500)\r\n                // userId 토큰 삭제 및 에러 메세지 출력\r\n                // 로그인 화면으로 Re-route\r\n                else {\r\n                    document.cookie = `userId= ; expires=Thu, 01 Jan 1999 00:00:10 GMT;`;\r\n                    console.log('Failed to login');\r\n                    history.push(\"/login\");\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"loading-wrapper component\">\r\n            <h1 id=\"loading_text\">TASK loading...</h1>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Loading","import './App.css';\r\nimport { useEffect, useState } from \"react\";\r\nimport { HashRouter, Route, Switch } from 'react-router-dom';\r\nimport Footer from './components/fixed/Footer'\r\nimport DashboardTemplateWrapper from './components/dashboard/DashboardTemplateWrapper';\r\nimport PreferenceTemplateWrapper from './components/preference/PreferenceTemplateWrapper';\r\nimport Login from './components/login/Login';\r\nimport Loading from './Loading';\r\n\r\nfunction App() {\r\n  const [ darkTheme, setDarkTheme ] = useState(false); // 다크 모드\r\n\r\n  useEffect(() => { // 랜더링 이후 다크 모드 설정 (추후 리팩토링)\r\n    const body = document.querySelector('body');\r\n    const footer = document.querySelector('.footer');\r\n\r\n    if(darkTheme) {  \r\n      body.classList.add('dark');\r\n      footer.classList.add('dark');\r\n    }\r\n    else {\r\n      body.classList.remove('dark');\r\n      footer.classList.remove('dark');\r\n    }\r\n  }, [ darkTheme ]);\r\n\r\n  function handleThemeToggle() {\r\n    setDarkTheme(!darkTheme);\r\n  }\r\n\r\n  const [userInfo, setUserInfo] = useState(\"\");\r\n\r\n  function handleUserInfo(newUserInfo) {\r\n    setUserInfo(newUserInfo);\r\n  }\r\n\r\n  return (\r\n    <HashRouter>\r\n      <div className=\"main\">\r\n        <Switch>\r\n          <Route path={process.env.PUBLIC_URL + '/'} exact component={Loading}/>\r\n          <Route path={process.env.PUBLIC_URL + '/login'} exact component={Login}/>\r\n          <Route path={process.env.PUBLIC_URL + '/dashboard'} render={() => <DashboardTemplateWrapper darkTheme={darkTheme} userInfo={userInfo} passUserInfo={handleUserInfo}></DashboardTemplateWrapper>}/>\r\n          <Route path={process.env.PUBLIC_URL + '/preference'} render={() => <PreferenceTemplateWrapper darkTheme={darkTheme} userInfo={userInfo} handleThemeToggle={handleThemeToggle}></PreferenceTemplateWrapper>}/>\r\n        </Switch>\r\n        <Footer></Footer>\r\n      </div>\r\n    </HashRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}