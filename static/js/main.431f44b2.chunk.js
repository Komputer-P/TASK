(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),o=n(15),r=n.n(o),a=(n(21),n(6)),i=(n(22),n(10)),d=n(2),j=(n(23),n(0)),l=function(){return Object(j.jsx)("footer",{className:"footer",children:Object(j.jsx)("p",{children:"\u24d2 2021 Kevin.P, All rights reserved."})})},h=(n(25),"http://tasko.today"),u="http://ec2-3-36-251-188.ap-northeast-2.compute.amazonaws.com";var b=function(e){var t=e.passUserInfo,n=Object(c.useState)([]),s=Object(a.a)(n,2),o=s[0],r=s[1],i=Object(c.useState)([]),d=Object(a.a)(i,2),l=d[0],b=d[1],O=Object(c.useState)(!1),m=Object(a.a)(O,2),f=m[0],p=m[1],x=Object(c.useState)(""),g=Object(a.a)(x,2),v=g[0],N=g[1],k=Object(c.useState)(0),S=Object(a.a)(k,2),y=S[0],T=S[1],w=Object(c.useState)(0),I=Object(a.a)(w,2),_=I[0],L=I[1],P=Object(c.useState)(0),E=Object(a.a)(P,2),C=E[0],B=E[1],J=Object(c.useState)(0),U=Object(a.a)(J,2),q=U[0],D=U[1],F=Object(c.useState)({}),K=Object(a.a)(F,2),M=K[0],A=K[1],z=document.cookie.split("; ").find((function(e){return e.startsWith("userId")})),G=void 0===z?window.location.replace(h):z.split("=")[1];function R(){fetch("".concat(u,"/api/todos"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(G)}).then((function(e){return e.json()})).then((function(e){console.log("Todo Items: ",e),r(e)})),fetch("".concat(u,"/api/pomodoro"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(G)}).then((function(e){return e.json()})).then((function(e){console.log("\uc11c\ubc84\ub85c\ubd80\ud130 Pomodoro \uc815\ubcf4 \uac00\uc838\uc634: ",e.timerSet,e.pomo,e.maxPomo,e.totalPomo),b(e)}))}return Object(c.useEffect)((function(){f||(fetch("".concat(u,"/api/user"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(G)}).then((function(e){return e.json()})).then((function(e){console.log("\uc720\uc800 \uc815\ubcf4 \uac00\uc838\uc634: ",{newUserInfo:e}),N(e),t(e),R()})),p(!0))}),[f]),Object(c.useEffect)((function(){T(o.length),L(o.filter((function(e){return e.isDone})).length),function(){var e=l.timerSet;B(l.pomo),D(l.totalPomo),A({minutes:Math.floor(e/60),seconds:e%60})}()}),[o,l]),Object(j.jsxs)("div",{className:"dashboard",children:[Object(j.jsxs)("div",{className:"dashboard_user_info component",children:[Object(j.jsx)("img",{className:"user_picture",src:v.pictureUrl,alt:v.name}),Object(j.jsx)("br",{}),Object(j.jsx)("h2",{style:{display:"inline-block",marginBottom:"5%"},children:v.name}),Object(j.jsx)("span",{children:"\ub2d8\uc758 \ub300\uc2dc\ubcf4\ub4dc"}),Object(j.jsx)("span",{className:"dashboard_refresh",onClick:R,children:" \u21bb"}),Object(j.jsx)("hr",{})]}),Object(j.jsxs)("div",{className:"dashboard_content component",children:[Object(j.jsxs)("div",{className:"dashboard_daily_do",children:[Object(j.jsx)("a",{href:"./dailydo",target:"_blank",rel:"noreferrer",children:Object(j.jsx)("div",{className:"daily_do_app_picture"})}),Object(j.jsx)("h2",{children:"\uc624\ub298 \ud560 \uc77c"}),Object(j.jsx)("ul",{children:Object(j.jsxs)("li",{children:[Object(j.jsx)("p",{children:"\uc624\ub298 \ud560 \uc77c \ub2ec\uc131\ub960"}),Object(j.jsx)("hr",{}),Object(j.jsxs)("h1",{children:[0!==y?Math.round(_/y*100):"0","%"]})]})})]}),Object(j.jsxs)("div",{className:"dashboard_pomodoro",children:[Object(j.jsx)("a",{href:"./pomodoro",target:"_blank",rel:"noreferrer",children:Object(j.jsx)("div",{className:"pomodoro_app_picture"})}),Object(j.jsx)("h2",{children:"\ubf40\ubaa8\ub3c4\ub85c"}),Object(j.jsxs)("ul",{children:[Object(j.jsxs)("li",{children:[Object(j.jsx)("p",{children:"\ub098\uc758 \uc9d1\uc911\ub825"}),Object(j.jsx)("hr",{}),Object(j.jsx)("h1",{children:isNaN(M.seconds)?"0\ubd840\ucd08":M.minutes+"\ubd84"+M.seconds+"\ucd08"})]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("p",{children:"\uc624\ub298 \ud55c \ubf40\ubaa8"}),Object(j.jsx)("hr",{}),Object(j.jsxs)("h1",{children:[C," \ubf40\ubaa8"]})]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("p",{children:"\uc9c0\uae08\uae4c\uc9c0 \ud55c \ucd1d \ubf40\ubaa8"}),Object(j.jsx)("hr",{}),Object(j.jsxs)("h1",{children:[q," \ubf40\ubaa8"]})]})]})]})]})]})},O=(n(26),function(e){var t=e.userInfo;return Object(j.jsx)("nav",{className:"navigation",children:Object(j.jsxs)("ul",{className:"navigation-list",children:[Object(j.jsx)("li",{id:"logo",children:Object(j.jsx)("a",{href:"https://komputer-p.github.io/Portfolio/",target:"_blank",rel:"noreferrer",children:"\u03c0"})}),Object(j.jsx)("li",{children:Object(j.jsx)(i.b,{to:"/dashboard",children:"\ub300\uc2dc\ubcf4\ub4dc"})}),Object(j.jsx)("li",{children:Object(j.jsx)(i.b,{to:"/preference",children:"\uc124\uc815"})}),Object(j.jsx)("li",{children:Object(j.jsxs)("div",{className:"dropdown",children:[Object(j.jsxs)("div",{className:"navigation-user-info",onClick:function(){document.querySelector(".user-info-dropdown").classList.toggle("show")},children:[Object(j.jsx)("img",{className:"navigation-user_picture",src:t.pictureUrl,alt:t.name}),Object(j.jsx)("span",{className:"navigation-user-name",children:t.name})]}),Object(j.jsx)("div",{className:"user-info-dropdown",children:Object(j.jsx)("p",{className:"logout",onClick:function(){document.cookie="userId= ; expires=Thu, 01 Jan 1999 00:00:10 GMT;",window.location.replace(h)},children:"\ub85c\uadf8\uc544\uc6c3"})})]})})]})})});var m=function(e){var t=e.darkTheme,n=e.userInfo,s=e.passUserInfo;return Object(c.useEffect)((function(){var e=document.querySelector(".navigation");t?e.classList.add("dark"):e.classList.remove("dark")}),[t]),Object(j.jsxs)("div",{className:"navigation-dashboard_wrapper wrapper",children:[Object(j.jsx)(O,{userInfo:n}),Object(j.jsx)(b,{passUserInfo:s})]})},f=(n(35),function(e){var t=e.darkTheme,n=e.onToggle;return Object(j.jsxs)("div",{className:"preference component",children:[Object(j.jsxs)("div",{className:"title",children:[Object(j.jsx)("h3",{children:"\uae30\ubcf8 \uc124\uc815"}),Object(j.jsx)("p",{})]}),Object(j.jsx)("div",{className:"content",children:Object(j.jsx)("ul",{className:"general",children:Object(j.jsxs)("li",{className:"theme",children:[Object(j.jsx)("span",{className:"text",children:"\ub2e4\ud06c \ubaa8\ub4dc"}),Object(j.jsxs)("label",{className:"switch",children:[Object(j.jsx)("input",{type:"checkbox",checked:t,name:"theme",onChange:n}),Object(j.jsx)("span",{className:"slider round"})]}),Object(j.jsx)("p",{style:{color:"gray"},children:"\ubc24\uc5d0\ub294 \ub2e4\ud06c \ubaa8\ub4dc\ub97c \ucf1c\ub294 \uac83\uc744 \ucd94\ucc9c\ub4dc\ub824\uc694."})]})})})]})});var p=function(e){var t=e.darkTheme,n=e.userInfo,s=e.handleThemeToggle;return Object(c.useEffect)((function(){var e=document.querySelector(".navigation");t?e.classList.add("dark"):e.classList.remove("dark")}),[t]),Object(j.jsxs)("div",{className:"navigation-preference-wrapper wrapper",children:[Object(j.jsx)(O,{userInfo:n}),Object(j.jsx)("h1",{style:{fontSize:"3rem",marginBottom:"5%"},children:"\uc124\uc815"}),Object(j.jsx)("div",{className:"preferences",children:Object(j.jsx)(f,{darkTheme:t,onToggle:s})})]})};n(36);var x=function(e){var t=e.history,n=Object(c.useRef)(null);return Object(c.useEffect)((function(){!function(e,t,n){var c,s=e.getElementsByTagName(t)[0];e.getElementById(n)||((c=e.createElement(t)).id=n,c.src="https://apis.google.com/js/platform.js?onload=googleSDKLoaded",s.parentNode.insertBefore(c,s))}(document,"script","google-jssdk"),window.googleSDKLoaded=function(){window.gapi.load("auth2",(function(){window.gapi.auth2.init({client_id:"855394650411-buaopph1kokclaq6l9i8tirma6u2svf0.apps.googleusercontent.com"}).attachClickHandler(n.current,{},(function(e){!function(e){var n=e.getAuthResponse().id_token,c=864e5,s=new Date;s.setTime(s.getTime()+c),fetch("".concat(u,"/api/google/tokensignin"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){console.log("Login userId: "+e.userId),document.cookie="userId=".concat(e.userId,"; expires=").concat(s.toUTCString()," path=/")})).then((function(){t.push("/dashboard")}))}(e)}),(function(e){!function(e){alert(JSON.stringify(e,void 0,2))}(e)}))}))}}),[]),Object(j.jsxs)("div",{className:"login-wrapper component",children:[Object(j.jsxs)("div",{className:"information",children:[Object(j.jsx)("h1",{id:"logo",children:"TASK"}),Object(j.jsx)("p",{children:"\uc77c\uc815/\uc2dc\uac04 \uad00\ub9ac \uc11c\ube44\uc2a4"})]}),Object(j.jsxs)("div",{ref:n,id:"customBtn",className:"customGPlusSignIn",children:[Object(j.jsx)("span",{className:"icon"}),Object(j.jsx)("span",{className:"buttonText",children:"\uad6c\uae00 \ub85c\uadf8\uc778"})]})]})};var g=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],s=t[1];function o(){s(!n)}Object(c.useEffect)((function(){var e=document.querySelector("body"),t=document.querySelector(".footer");n?(e.classList.add("dark"),t.classList.add("dark")):(e.classList.remove("dark"),t.classList.remove("dark"))}),[n]);var r=Object(c.useState)(""),h=Object(a.a)(r,2),u=h[0],b=h[1];function O(e){b(e)}return Object(j.jsx)(i.a,{children:Object(j.jsxs)("div",{className:"main",children:[Object(j.jsxs)(d.c,{children:[Object(j.jsx)(d.a,{path:"/",exact:!0,component:x}),Object(j.jsx)(d.a,{path:"/dashboard",render:function(){return Object(j.jsx)(m,{darkTheme:n,userInfo:u,passUserInfo:O})}}),Object(j.jsx)(d.a,{path:"/preference",render:function(){return Object(j.jsx)(p,{darkTheme:n,userInfo:u,handleThemeToggle:o})}})]}),Object(j.jsx)(l,{})]})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),o(e),r(e)}))};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root")),v()}},[[37,1,2]]]);
//# sourceMappingURL=main.431f44b2.chunk.js.map