(this.webpackJsonppomodoro=this.webpackJsonppomodoro||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),s=n(16),a=n.n(s),r=(n(22),n(4)),i=(n(23),n(24),n(25),n(26),n(0)),j=function(e){var t=e.minutes,n=e.seconds;return Object(i.jsxs)("h1",{className:"timer_display",children:[t<10?"0":"",t,":",n<10?"0":"",n]})},l=function(e){var t=e.timeSet,n=e.pomoUpdate,o=Object(c.useRef)(null),s=!1,a=Object(c.useState)(0),l=Object(r.a)(a,2),d=l[0],u=l[1],b=Object(c.useState)(0),m=Object(r.a)(b,2),h=m[0],p=m[1],O=Object(c.useState)(t),f=Object(r.a)(O,2),x=f[0],v=f[1],g=Object(c.useState)(!1),S=Object(r.a)(g,2),y=S[0],N=S[1];function k(e){clearInterval(o);var c=Date.now()+1e3*e;o=setInterval((function(){var e=Math.round((c-Date.now())/1e3);if(e<0){clearInterval(o);var a=document.querySelector(".break_time_display");s?(s=!1,v(t),u(Math.floor(x/60)),p(x),a.innerHTML=""):(s=!0,v(300),u(5),p(0),n(),a.innerHTML="\ud734\uc2dd \uc2dc\uac04!",k(300))}else u(Math.floor(e/60)),p(e%60)}),1e3)}return Object(c.useEffect)((function(){v(t)}),[t]),Object(c.useEffect)((function(){u(Math.floor(x/60)),p(x%60)}),[x]),Object(c.useEffect)((function(){return function(){return clearInterval(o)}}),[]),Object(i.jsxs)("div",{className:"timer",children:[Object(i.jsx)(j,{minutes:d,seconds:h}),Object(i.jsx)("h1",{className:"break_time_display"}),Object(i.jsx)("input",{className:"start_timer_button",type:"button",value:"\ud0c0\uc774\uba38 \uc2dc\uc791!",onClick:function(){k(x),N(!0)},disabled:y?"disabled":""})]})},d=function(e){var t=e.idToken,n=Object(c.useState)(0),o=Object(r.a)(n,2),s=o[0],a=o[1],j=Object(c.useState)(1500),d=Object(r.a)(j,2),u=d[0],b=d[1],m=Object(c.useState)(!1),h=Object(r.a)(m,2),p=h[0],O=h[1];return Object(c.useEffect)((function(){p||fetch("http://ec2-3-36-251-188.ap-northeast-2.compute.amazonaws.com:8080/api/pomodoro",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log("\uc11c\ubc84\ub85c\ubd80\ud130 Pomodoro \uc815\ubcf4 \uac00\uc838\uc634: ",e.timerSet,e.pomo),b(e.timerSet),a(e.pomo),O(!0)}))}),[p]),Object(i.jsxs)("div",{className:"timer_template component",children:[Object(i.jsx)("h1",{children:"\ubf40\ubaa8\ub3c4\ub85c!"}),Object(i.jsx)(l,{timeSet:u,pomoUpdate:function(){var e={tokenId:t,timerSet:u,pomo:s+1};fetch("http://ec2-3-36-251-188.ap-northeast-2.compute.amazonaws.com:8080/api/pomodoro/update",{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){a(e.pomo),console.log("Updated Pomo: ",e.pomo)}))}}),Object(i.jsxs)("h2",{className:"pomodoro_count",children:["\uc624\ub298\uc740 ",s," \ubf40\ubaa8\ub97c \ud588\uc5b4\uc694!"]}),Object(i.jsx)("p",{children:"1 \ud3ec\ubaa8 = 25\ubd84 \uc9d1\uc911, 5\ubd84 \ud734\uc2dd"}),Object(i.jsx)("p",{children:"4 \ud3ec\ubaa8 \ud6c4 30\ubd84 \ud734\uc2dd"})]})},u=n(10),b=n(2),m=(n(28),n(29),function(e){var t=e.darkTheme,n=e.onToggle;return Object(i.jsxs)("div",{className:"preference_component",children:[Object(i.jsx)("h3",{children:"\uae30\ubcf8 \uc124\uc815"}),Object(i.jsxs)("div",{className:"theme_toggle",children:[Object(i.jsx)("span",{className:"text",children:"\ub2e4\ud06c \ubaa8\ub4dc"}),Object(i.jsxs)("label",{className:"switch",children:[Object(i.jsx)("input",{type:"checkbox",checked:t,onChange:n}),Object(i.jsx)("span",{className:"slider"})]}),Object(i.jsx)("p",{children:"\ubc24\uc5d0\ub294 \ub2e4\ud06c \ubaa8\ub4dc\ub97c \ucf1c\ub294 \uac83\uc744 \ucd94\ucc9c\ub4dc\ub824\uc694."})]})]})}),h=(n(30),function(e){var t=e.idToken,n=Object(c.useState)(""),o=Object(r.a)(n,2),s=o[0],a=o[1],j=Object(c.useState)(0),l=Object(r.a)(j,2),d=l[0],u=l[1],b=Object(c.useState)(0),m=Object(r.a)(b,2),h=m[0],p=m[1],O=Object(c.useState)(!1),f=Object(r.a)(O,2),x=f[0],v=f[1];function g(){if(a(""),RegExp("[0-9][0-9]:[0-9][0-9]").test(s)){var e=s.split(":"),n=parseInt(e[0]),c=parseInt(e[1]),o={tokenId:t,timerSet:c+=60*n,pomo:h};fetch("http://ec2-3-36-251-188.ap-northeast-2.compute.amazonaws.com:8080/api/pomodoro/update",{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){u(e.timerSet),console.log("Updated TimerSet: ",e.timerSet)}))}else alert("\ud615\uc2dd\uc5d0 \ub9de\uac8c \uac12\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!")}return Object(c.useEffect)((function(){x||fetch("http://ec2-3-36-251-188.ap-northeast-2.compute.amazonaws.com:8080/api/pomodoro",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log("\uc11c\ubc84\ub85c\ubd80\ud130 Pomodoro \uc815\ubcf4 \uac00\uc838\uc634: ",e.timerSet,e.pomo),u(e.timerSet),p(e.pomo),v(!0)}))}),[x]),Object(i.jsxs)("div",{className:"preference_component",children:[Object(i.jsx)("h3",{children:"\ud0c0\uc774\uba38 \uc124\uc815"}),Object(i.jsxs)("div",{className:"timer_set_form",children:[Object(i.jsx)("input",{className:"timer_set_text",type:"text",value:s,onChange:function(e){a(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&g()},placeholder:"\ubd84 : \ucd08 "}),Object(i.jsx)("button",{className:"timer_set_submit",onClick:g,children:"\ubcc0\uacbd"})]}),Object(i.jsx)("p",{children:"\uc790\uc2e0\ub9cc\uc758 \ubf40\ubaa8\ub3c4\ub85c \ud0c0\uc774\uba38\ub97c \uc138\ud305\ud574\ubcf4\uc138\uc694."}),Object(i.jsxs)("p",{children:["\ud604\uc7ac \ud0c0\uc774\uba38 \uc138\ud305: ",Object(i.jsxs)("b",{className:"timer_set_display",children:[Math.floor(d/60)<10?"0"+Math.floor(d/60):Math.floor(d/60),":",d%60<10?"0"+d%60:d%60]})]})]})}),p=function(e){var t=e.idToken,n=e.darkTheme,c=e.onToggle;return Object(i.jsxs)("div",{className:"preference_template",children:[Object(i.jsx)("h1",{className:"preference_title",children:"\uc124\uc815"}),Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsx)(h,{idToken:t})}),Object(i.jsx)("li",{children:Object(i.jsx)(m,{darkTheme:n,onToggle:c})})]})]})},O=(n(31),function(e){var t=e.userInfo;return Object(i.jsx)("nav",{className:"navigation",children:Object(i.jsxs)("ul",{className:"navigation-list",children:[Object(i.jsx)("li",{id:"logo",children:"\u03c0"}),Object(i.jsx)("li",{children:Object(i.jsx)(u.b,{to:"/",children:"\ubf40\ubaa8"})}),Object(i.jsx)("li",{children:Object(i.jsx)(u.b,{to:"/preference",children:"\uc124\uc815"})}),Object(i.jsx)("li",{children:Object(i.jsxs)("div",{className:"navigation-user-info",children:[Object(i.jsx)("img",{className:"navigation-user_picture",src:t.pictureUrl,alt:t.name}),Object(i.jsx)("span",{className:"navigation-user-name",children:t.name})]})})]})})}),f=(n(37),function(){return Object(i.jsx)("footer",{className:"footer",children:Object(i.jsx)("p",{children:"\u24d2 2021 Kevin.P, All rights reserved."})})});var x=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],o=t[1];function s(){o(!n)}Object(c.useEffect)((function(){var e=document.querySelector("body"),t=document.querySelector(".navigation"),c=document.querySelector(".footer");n?(e.classList.add("dark"),t.classList.add("dark"),c.classList.add("dark")):(e.classList.remove("dark"),t.classList.remove("dark"),c.classList.remove("dark"))}),[n]);var a=Object(c.useState)(!1),j=Object(r.a)(a,2),l=j[0],m=j[1],h=Object(c.useState)(""),x=Object(r.a)(h,2),v=x[0],g=x[1],S=document.cookie.split("; ").find((function(e){return e.startsWith("idToken")})).split("=")[1];return Object(c.useEffect)((function(){l||(fetch("http://ec2-3-36-251-188.ap-northeast-2.compute.amazonaws.com:8080/api/user",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(S)}).then((function(e){return e.json()})).then((function(e){console.log("\uc720\uc800 \uc815\ubcf4 \uac00\uc838\uc634: ",{newUserInfo:e}),g(e)})),m(!0))}),[l]),Object(i.jsx)(u.a,{basename:"/pomodoro",children:Object(i.jsxs)("div",{className:"main",children:[Object(i.jsx)(O,{userInfo:v}),Object(i.jsxs)(b.c,{children:[Object(i.jsx)(b.a,{path:"./",exact:!0,render:function(){return Object(i.jsx)(d,{idToken:S})}}),Object(i.jsx)(b.a,{path:"./preference",render:function(){return Object(i.jsx)(p,{idToken:S,darkTheme:n,onToggle:s})}})]}),Object(i.jsx)(f,{})]})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),s(e),a(e)}))};a.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(x,{})}),document.getElementById("root")),v()}},[[38,1,2]]]);
//# sourceMappingURL=main.e4df2e67.chunk.js.map